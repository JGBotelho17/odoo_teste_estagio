<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Form and list for etiqueta model (optional) -->
    <record id="view_joaolda_etiqueta_tree" model="ir.ui.view">
        <field name="name">joaolda.etiqueta.nsemana.tree</field>
        <field name="model">joaolda.etiqueta.nsemana</field>
        <field name="arch" type="xml">
            <list string="Etiquetas de Semana">
                <field name="name"/>
                <field name="week_number"/>
            </list>
        </field>
    </record>

    <record id="view_joaolda_etiqueta_form" model="ir.ui.view">
        <field name="name">joaolda.etiqueta.nsemana.form</field>
        <field name="model">joaolda.etiqueta.nsemana</field>
        <field name="arch" type="xml">
            <form string="Etiqueta Semana">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="week_number" readonly="1"/>
                        <field name="observacoes"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- menu and action to manage etiquetas -->
    <record id="action_joaolda_etiqueta" model="ir.actions.act_window">
        <field name="name">Etiquetas de Semana</field>
        <field name="res_model">joaolda.etiqueta.nsemana</field>
        <field name="view_mode">list,form</field>
    </record>

    <menuitem id="menu_joaolda_etiqueta" name="Etiquetas Semana" parent="menu_joaolda_root" action="action_joaolda_etiqueta"/>

    <!-- add etiqueta field to crm.lead form -->
    <record id="view_crm_lead_form_etiqueta" model="ir.ui.view">
        <field name="name">crm.lead.form.etiqueta</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_lead_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet//group" position="inside">
                <field name="etiqueta_id" readonly="1"/>
            </xpath>
        </field>
    </record>
</odoo>